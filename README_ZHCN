交友信息（纳兰性急）整理分析

    1 简介

纳兰性急是一个微信公众号。每周末发布三期交友信息：星期五为男士专场，星期
六、日为女士专场。每期有大概15个人。
一般的格式是：
    编号：一个给定的标记号码
    微信号
    年龄
    身高
    城市
    职业
    兴趣爱好
    求偶要求
    一句话介绍自己
    一张照片
此项目的目的是解析每个人的信息，寻找任何有趣的东西。


    2 数据清理

信息由每个人投递，因此资料的格式混乱，每项的名称标记不一致，有用HTML换行
<br>而不是<p>排版的，而且一些表情符也会导致读取编码困难。

  2.1 解析HTML
第一步是读取和解析HTML文件。
每期所有人的资料都写在一个很长的HTML行里，被包含在id为“js_content”的div
中。
找到此行中，先用”-----“（五个以上的“-”）将此长行分割。最后一个总平台的介
绍或者广告，故舍弃。第一个是标题，包含了本期的编号以及性别，把此标题复制
到每一份中。之后进入每一个切割后的文本，进一步用“</p>”切割。清理切割之后
的文字，删掉HTML的标记以及无用的空格等等。
得到的结果是一个文本向量（character vector）的列表（list），每个向量包含
一个人的资料。

  2.2 修改HTML原文件
在解析每一项文字的时候（稍后讨论），很多HTML原文件中的问题会被暴露出来。
每考虑过一个问题，都需要重新读取解析原HTML文件。然后循环这个过程。
问题的解决方案一是改进解析的方法。例如，在查看年龄时，我发现有很多不同的
“年龄”的写法（“芳龄”，“年  龄”， 等等）。在解析时加入这些写法。
另一个解决方案是直接修改原HTML文件。例如，查看每份资料包含的信息数量时，
我发现有一些资料用“<br>”而不是“<p>”分隔信息。因为这种情况并不很多见，我
直接修改了原HTML文件。

  2.3 解析标记信息
每个向量第一项包含了所在期数和性别。此资料的编号在向量的第二项，附加了一
个“-”。

  2.4 解析微信号
查找包含“微信号”（以及其他写法）的项。删除所有括号内的内容。

  2.5 解析年龄（出生年）
年龄可能是岁数或者出生年。年份可能被表达为“19xx”或“xx”。
岁数会被转换为出生年。第199期是2014年的最后一期。

  2.6 解析身高
身高在最好的情形下被写为以“cm/CM”为单位的三位数。也可能被写为以米为单位
的含小数点三位数。有些也含有”.5“（半厘米）。
========================================================================
==========================72格尺========================================

  2.7 解析城市

    3 分析
